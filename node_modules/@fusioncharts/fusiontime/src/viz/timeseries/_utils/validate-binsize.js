export default function(standardBins,intervalIndexMap,units,duration){var i,j,unit,prevUnit,unitsLen=units.length,currentBin,previousBin,thresholdMid;for(i=0;i<unitsLen;i++){unit=units[i];j=intervalIndexMap[unit.name.toLowerCase()];while(standardBins[j]&&standardBins[j][0].name()===unit.name.toLowerCase()){currentBin=standardBins[j];if(duration===currentBin[2]){return{unit:unit,multiplier:currentBin[1]}}else if(duration<currentBin[2]){if(!previousBin){return{unit:unit,multiplier:currentBin[1]}}thresholdMid=Math.round((currentBin[2]+previousBin[2])/2);if(duration<thresholdMid){return{unit:prevUnit,multiplier:previousBin[1]}}return{unit:unit,multiplier:currentBin[1]}}previousBin=currentBin;prevUnit=unit;j++}}return{unit:units[i-1],multiplier:Math.round(duration/units[i-1].ms)}}