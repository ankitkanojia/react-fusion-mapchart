import{POSITION_BOTTOM,pluckNumber,POSITION_RIGHT}from"@fusioncharts/core/src/lib";function _manageLegendSpace(){var iapi=this,config=iapi.config,legend=iapi.getChildren("legend")&&iapi.getChildren("legend")[0],gradientLegend=iapi.getChildren("gLegend")&&iapi.getChildren("gLegend")[0],conf,colorRangeObj=iapi.getFromEnv("dataSource").colorrange,hasLegend=config.hasLegend,spaceTakenByLegend={},hasGradientLegend=iapi.hasGradientLegend,legendPosition,allottedSpace,factor,chartAttr=iapi.getFromEnv("dataSource").chart,mapByCategory=pluckNumber(chartAttr.mapbycategory,0),isGradient=hasGradientLegend&&colorRangeObj&&pluckNumber(colorRangeObj.gradient);if(isGradient&&!mapByCategory){conf=gradientLegend.conf;hasGradientLegend=true;config.gLegendEnabled=true;factor=.5;legendPosition=conf.legendPosition}else{conf=legend&&legend.config;hasGradientLegend=false;config.gLegendEnabled=false;legendPosition=conf&&conf.legendPos;factor=legendPosition===POSITION_RIGHT?.8:.4}if(legendPosition===POSITION_RIGHT){allottedSpace=config.availableWidth*factor}else{allottedSpace=config.availableHeight*factor}if(hasGradientLegend){spaceTakenByLegend=iapi.manageGradientLegendSpace(allottedSpace)}else{if(hasLegend!==false&&legend&&!legend.getState("removed")){spaceTakenByLegend=legend&&legend._manageLegendPosition(allottedSpace)}}iapi._allocateSpace({bottom:spaceTakenByLegend&&spaceTakenByLegend.bottom||0,right:spaceTakenByLegend&&spaceTakenByLegend.right||0})}function manageGradientLegendSpace(allottedSpace){var iapi=this,config=iapi.config,gradientLegend=iapi.getFromEnv("gLegend"),conf=gradientLegend&&gradientLegend.conf,legendPosition,returnDimension,gLegendPadding,spaceUsed;config.gLegendPadding=pluckNumber(iapi.getFromEnv("chart-attrib").legendpadding,10);gLegendPadding=Math.min(config.gLegendPadding,.5*allottedSpace);if(conf){legendPosition=conf.legendPosition;spaceUsed=gradientLegend.getLogicalSpace(allottedSpace);if(legendPosition===POSITION_BOTTOM){returnDimension={bottom:(spaceUsed.height||0)+gLegendPadding}}else{returnDimension={right:(spaceUsed.width||0)+gLegendPadding}}}else{returnDimension={bottom:0,right:0}}return returnDimension}export{_manageLegendSpace,manageGradientLegendSpace};