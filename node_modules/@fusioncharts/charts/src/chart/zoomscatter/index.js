import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import ScatterBase from"../_internal/scatterbase";import ZoomScatterDataset from"../../dataset/zoomscatter";import{pluck,pluckNumber,_manageInteractiveSpace}from"@fusioncharts/core/src/lib";import{symbolList}from"../_internal/utils/iconsymbol";import{getDep}from"@fusioncharts/core/src/dependency-manager";import{priorityList}from"@fusioncharts/core/src/schedular";var Raphael=getDep("redraphael","plugin"),UNDEF,CHART_STR="ZoomScatter Chart",ZOOMSCATTER_STR="zoomscatter";Raphael.addSymbol(symbolList);var ZoomScatter=function(_ScatterBase){_inheritsLoose(ZoomScatter,_ScatterBase);ZoomScatter.getName=function getName(){return"ZoomScatter"};function ZoomScatter(){var _this;_this=_ScatterBase.call(this)||this;_this.highlightEnabled=false;_this.isXY=true;_this.zoom=true;_this.zoomX=true;_this.zoomY=true;_this.defaultZeroPlaneHighlighted=false;return _this}var _proto=ZoomScatter.prototype;_proto.getName=function getName(){return"ZoomScatter"};_proto.__setDefaultConfig=function __setDefaultConfig(){_ScatterBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName=CHART_STR;config.defaultDatasetType=ZOOMSCATTER_STR;config.enablemousetracking=true;config.animation=0};_proto.configureAttributes=function configureAttributes(dataObj){var chartAttr,iapi=this,conf=iapi.config;_ScatterBase.prototype.configureAttributes.call(this,dataObj);chartAttr=iapi.getFromEnv("dataSource").chart;conf.stepZoom=400/(100-pluckNumber(chartAttr.stepzoom,25));if(conf.stepZoom<=2){conf.stepZoom=1.9}conf.showToolBarButtonTooltext=pluckNumber(chartAttr.showtoolbarbuttontooltext,1);conf.btnResetChartToolText=conf.showToolBarButtonTooltext?pluck(chartAttr.btnresetcharttooltext,"Reset Chart"):"";conf.btnZoomOutToolText=conf.showToolBarButtonTooltext?pluck(chartAttr.btnzoomouttooltext,"Zoom out to previous level"):"";conf.btnZoomInToolText=conf.showToolBarButtonTooltext?pluck(chartAttr.btnzoomintooltext,"<strong>Zoom in</strong><br/>Or double-"+"click on plot to zoom-in"):"";conf.btnSelectZoomToolText=conf.showToolBarButtonTooltext?pluck(chartAttr.btnselectzoomtooltext,"<strong>Select a region to zoom-in</strong><br/>Click to enable pan mode."):"";conf.btnPanToolText=conf.showToolBarButtonTooltext?pluck(chartAttr.btnpantooltext,"<strong>Drag to move across chart</strong><br/>Click to enable select-zoom mode."):""};ZoomScatter.includeInputOptions=function includeInputOptions(){return["DragPan","DragZoomIn","ZoomResetButton","ZoomOutButton","ZoomInButton","DbTapZoom","PinchZoom"]};_proto.getInputConfigurations=function getInputConfigurations(){var iapi=this,config=iapi.config,zoomDecimalLimit=2,hookFn=function hookFn(){iapi.addJob("spaceManage",function(){iapi._manageInteractiveSpace()},priorityList.configure)},inputComponents={dragZoomIn:{scaleX:true,scaleY:true,boxStyle:{"stroke-width":1,stroke:"red",fill:"#00FF00",opacity:.2,cursor:"ne-resize"},dragendFn:hookFn,tooltext:config.btnSelectZoomToolText,zoomDecimalLimit:zoomDecimalLimit},zoomResetButton:{tooltext:config.btnResetChartToolText,hookFn:hookFn},zoomOutButton:{tooltext:config.btnZoomOutToolText,hookFn:hookFn},zoomInButton:{tooltext:config.btnZoomInToolText,stepzoom:config.stepZoom,zoomDecimalLimit:zoomDecimalLimit,hookFn:hookFn},dragPan:{tooltext:config.btnPanToolText},dbTapZoom:{stepzoom:config.stepZoom,zoomDecimalLimit:zoomDecimalLimit,hookFn:hookFn},pinchZoom:{zoomDecimalLimit:zoomDecimalLimit}};return inputComponents};_proto._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset;if(!datasetsJSON){return true}};_proto.getDatasets=function getDatasets(){var iapi=this,dataSetArr=[];iapi.iterateComponents(function(child){if(child.getType&&child.getType()==="dataset"){dataSetArr.push(child)}});return dataSetArr};_proto.getDSdef=function getDSdef(){return ZoomScatterDataset};_proto.getDSGroupdef=function getDSGroupdef(){return UNDEF};return ZoomScatter}(ScatterBase);ZoomScatter.prototype._manageInteractiveSpace=_manageInteractiveSpace;export default ZoomScatter;