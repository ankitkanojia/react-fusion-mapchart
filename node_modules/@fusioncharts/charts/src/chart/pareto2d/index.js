import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import MSDyBaseCartesian from"../_internal/msdybasecartesian";import{ParetoColumnDataset}from"../../dataset/pareto";import{ParetoLineDataset}from"../../dataset/paretoline";import axisFactory from"../../factories/pareto-axis";import{preDefStr}from"@fusioncharts/core/src/lib";import datasetFactory from"../../factories/pareto-dataset";var NINETYSTRING=preDefStr.NINETYSTRING,COLUMN_STR="column";function _setCategories2(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),dataset=dataObj.dataset,numberFormatter=iapi.getFromEnv("number-formatter"),xAxis=iapi.getChildren("xAxis"),data=dataObj.data||dataset&&dataset[0].data||[],catArr=[],datum,dataLen=data.length,i,vLine={};for(i=dataLen-1;i>=0;i--){datum=data[i];if(datum.vline==="true"||datum.vline==="1"||datum.vline===1||datum.vline===true){vLine[i]=datum;data.splice(i,1)}else if(numberFormatter.getCleanValue(datum.value,true)===null){data.splice(i,1)}}data.sort(function(a,b){return numberFormatter.getCleanValue(b.value,true)-numberFormatter.getCleanValue(a.value,true)});catArr=data.slice();for(i in vLine){catArr.splice(i,0,vLine[i])}xAxis[0].setTickValues(catArr)}var Pareto2D=function(_MSDyBaseCartesian){_inheritsLoose(Pareto2D,_MSDyBaseCartesian);Pareto2D.getName=function getName(){return"Pareto2D"};function Pareto2D(){var _this;_this=_MSDyBaseCartesian.call(this)||this;_this.isPercentage=true;_this.registerFactory("axis",axisFactory,["canvas"]);_this.registerFactory("dataset",datasetFactory,["vCanvas"]);return _this}var _proto=Pareto2D.prototype;_proto.getName=function getName(){return"Pareto2D"};_proto.__setDefaultConfig=function __setDefaultConfig(){_MSDyBaseCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.singleseries=true;config.hasLegend=false;config.defaultDatasetType=COLUMN_STR;config.plotfillalpha=NINETYSTRING;config.enablemousetracking=true};_proto._setCategories=function _setCategories(){_setCategories2.call(this)};_proto._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),data=jsonData.data;if(!data||!data.length){return true}};_proto.getDSdef=function getDSdef(name){return name==="column"?ParetoColumnDataset:ParetoLineDataset};_proto.getDSGroupdef=function getDSGroupdef(){};return Pareto2D}(MSDyBaseCartesian);export default Pareto2D;export{_setCategories2 as _setCategories};