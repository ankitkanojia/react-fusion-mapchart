import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import MSCartesian from"../_internal/mscartesian";import MarimekkoDataset from"../../dataset/marimekko";import Marimekkogroup from"../../dataset/groups/marimekko-stack";import msDatasetFactory from"../../factories/multiseries-dataset";import{pluckNumber}from"@fusioncharts/core/src/lib";var MARIMEKKO_CHART="Marimekko Chart",MARIMEKKO_STR="marimekko";var Marimekko=function(_MSCartesian){_inheritsLoose(Marimekko,_MSCartesian);Marimekko.getName=function getName(){return"Marimekko"};var _proto=Marimekko.prototype;_proto._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,categories=jsonData.categories;if(!datasetsJSON||!categories||categories.length===0||!categories[0].category||!(categories[0].category instanceof Array)){return true}};function Marimekko(){var _this;_this=_MSCartesian.call(this)||this;_this.isValueAbs=true;_this.distributedColumns=true;_this.stack100percent=true;_this.isStacked=true;_this.showsum=1;_this.registerFactory("dataset",function(chart){msDatasetFactory(chart);var children=chart.getChildren(),canvas=children.canvas[0],vCanvas=canvas.getChildren("vCanvas")[0],dsType=chart.config.defaultDatasetType||"",manager=vCanvas.getChildren("datasetGroup_"+dsType)[0];manager.addToEnv("categories",chart.getFromEnv("dataSource").categories)},["vCanvas"]);return _this}_proto.getName=function getName(){return"Marimekko"};_proto.parseChartAttr=function parseChartAttr(dataObj){_MSCartesian.prototype.parseChartAttr.call(this,dataObj);this.config.showXAxisPercentValues=pluckNumber(dataObj.chart&&dataObj.chart.showxaxispercentvalues,1)};_proto.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName=MARIMEKKO_CHART;config.defaultDatasetType=MARIMEKKO_STR;config.isstacked=true;config.showpercentvalues=0;config.usepercentdistribution=1;config.showsum=1;config.enablemousetracking=true};_proto.getDSdef=function getDSdef(){return MarimekkoDataset};_proto.getDSGroupdef=function getDSGroupdef(){return Marimekkogroup};return Marimekko}(MSCartesian);export default Marimekko;