import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import Column3DDataset from"../column3d";import{drawLabel as _drawLabel}from"../bar2d";import{addDep}from"@fusioncharts/core/src/dependency-manager";import bar3DAnimation from"./index.animation";addDep({name:"bar3DAnimation",type:"animationRule",extension:bar3DAnimation});var Bar3DDataset=function(_Column3DDataset){_inheritsLoose(Bar3DDataset,_Column3DDataset);function Bar3DDataset(){return _Column3DDataset.apply(this,arguments)||this}var _proto=Bar3DDataset.prototype;_proto.getType=function getType(){return"dataset"};_proto.getName=function getName(){return"bar3D"};_proto._checkPointerOverColumn=function _checkPointerOverColumn(pX,chartX,chartY){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,plotBorderThickness=chartConfig.plotborderthickness,showPlotBorder=chartConfig.showplotborder,dataStore=dataset.components.data,pointObj=dataStore[pX],pY,dx,dy,hovered,zDepth=5,xPos,yPos,width,height;if(!pointObj){return}pY=pointObj.config.setValue;plotBorderThickness=showPlotBorder?plotBorderThickness:0;if(pY!==null){yPos=pointObj._yPos;height=pointObj._height+zDepth;xPos=pointObj._xPos-zDepth;width=pointObj._width+zDepth;dx=chartX-xPos;dy=chartY-yPos;hovered=dx>=0&&dx<=width+plotBorderThickness&&dy>=0&&dy<=height+plotBorderThickness;if(pY>=0){hovered=hovered?chartX+chartY-(xPos+yPos)-zDepth>0:false;hovered=hovered?chartX+chartY-(xPos+yPos+width+height)+zDepth<0:false}else{hovered=hovered?chartX+chartY-(xPos+yPos)-zDepth>0:false;hovered=hovered?chartX+chartY-(xPos+yPos+width+height)+zDepth<0:false}if(hovered){return{pointIndex:pX,hovered:hovered,pointObj:dataStore[pX]}}}};_proto._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,chart=dataset.getFromEnv("chart"),isBar=chart.isBar,xAxis=dataset.getFromEnv("xAxis"),x,pX;x=xAxis.getValue(isBar?chartY:chartX);pX=Math.round(x);return pX-x>0?dataset._checkPointerOverColumn(pX,chartX,chartY)||dataset._checkPointerOverColumn(pX-1,chartX,chartY):dataset._checkPointerOverColumn(pX+1,chartX,chartY)||dataset._checkPointerOverColumn(pX,chartX,chartY)};_proto.drawLabel=function drawLabel(){_drawLabel.call(this)};return Bar3DDataset}(Column3DDataset);export default Bar3DDataset;