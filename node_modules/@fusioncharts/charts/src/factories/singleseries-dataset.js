import{fcEach,datasetFactory}from"@fusioncharts/core/src/lib";var TRUE_STRING="true",ONE_STRING="1",_dataSegregator=function _dataSegregator(data){var dataOnlyArr=[],catOnlyArr=[];fcEach(data,function(datum,i){if(!(datum.vline===TRUE_STRING||datum.vline===true||datum.vline===1||datum.vline===ONE_STRING)){dataOnlyArr.push(datum)}else{catOnlyArr.push({index:i,data:datum})}});return{catData:catOnlyArr,data:dataOnlyArr}};export default function(chart){var children=chart.getChildren(),canvas=children.canvas&&children.canvas[0],vCanvas=canvas&&canvas.getChildren("vCanvas"),datasetParent=vCanvas&&vCanvas[0]||canvas||chart,dataObj=chart.getFromEnv("dataSource"),dataset=dataObj.dataset,data=dataObj.data||dataset&&dataset[0].data,DSClass,datasetJSON;datasetJSON=_dataSegregator(data);if(!(data&&data.length!==0)){chart.setChartMessage();return}DSClass=chart.getDSdef();datasetFactory(datasetParent,DSClass,"dataset",1,[datasetJSON])}