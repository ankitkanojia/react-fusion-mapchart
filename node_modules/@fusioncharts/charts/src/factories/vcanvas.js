import VirtualCanvas from"../_internal/components/canvases/vcanvas.js";import{componentFactory}from"@fusioncharts/core/src/lib";export default function(chart){var canvas,canvasArr=chart.getChildren("canvas"),canvasLen=canvasArr.length,vCanvas,xAxis=[],yAxis=[],axes,l,i,k,j;for(l=0;l<canvasLen;l++,xAxis=[],yAxis=[]){canvas=canvasArr[l];if(canvas.getState("removed")){continue}axes=canvas.getFromEnv("xAxis");for(k=0;k<(axes&&axes.length);k++){if(!axes[k].getState("removed")){xAxis.push(axes[k])}}axes=canvas.getFromEnv("yAxis");for(k=0;k<(axes&&axes.length);k++){if(!axes[k].getState("removed")){yAxis.push(axes[k])}}componentFactory(canvas,VirtualCanvas,"vCanvas",xAxis.length*yAxis.length);vCanvas=canvas.getChildren("vCanvas");for(i=0,k=0;i<(xAxis&&xAxis.length);i++){for(j=0;j<(yAxis&&yAxis.length);j++,k++){vCanvas[k].xAxis(xAxis[i]).yAxis(yAxis[j]).canvas(canvas);vCanvas[k].configure();vCanvas[k].addToEnv("vCanvas",vCanvas[k])}}}}