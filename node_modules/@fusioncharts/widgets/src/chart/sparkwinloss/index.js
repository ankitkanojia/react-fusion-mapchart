import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import{pluck,pluckNumber,convertColor,UNDEF}from"@fusioncharts/core/src/lib";import SparkChartBase from"../_internal/sparkbase";import SparkWinLossDataset from"../../dataset/sparkwinloss";var GUTTER_PADDING=2,math=Math,mathMin=math.min,DS_TYPE="sparkwinloss",FRIENDLY_NAME="sparkwinloss Chart";function _placeOpenCloseValues(availableWidth){var iapi=this,config=iapi.config,smartLabel=iapi.getFromEnv("smartLabel"),style=config.dataLabelStyle,borderThickness=pluckNumber(style.borderThickness,0),valuePadding=iapi.config.valuepadding+GUTTER_PADDING+borderThickness,openValueWidth=0,closeValueWidth=0,sparkValues=config.sparkValues||{},left,right;smartLabel.useEllipsesOnOverflow(config.useEllipsesWhenOverflow);smartLabel.setStyle(style);if(sparkValues.openValue&&sparkValues.openValue.label){sparkValues.openValue.smartObj=smartLabel.getSmartText(sparkValues.openValue.label);openValueWidth=sparkValues.openValue.smartObj.width+valuePadding}if(sparkValues.closeValue&&sparkValues.closeValue.label){sparkValues.closeValue.smartObj=smartLabel.getSmartText(sparkValues.closeValue.label);closeValueWidth+=sparkValues.closeValue.smartObj.width+valuePadding}if(sparkValues.highValue&&sparkValues.highValue.label){sparkValues.highValue.smartObj=smartLabel.getSmartText(sparkValues.highValue.label)}if(sparkValues.lowValue&&sparkValues.lowValue.label){sparkValues.lowValue.smartObj=smartLabel.getSmartText(sparkValues.lowValue.label)}if(sparkValues.highLowValue&&sparkValues.highLowValue.label){sparkValues.highLowValue.smartObj=smartLabel.getSmartText(sparkValues.highLowValue.label);closeValueWidth+=sparkValues.highLowValue.smartObj.width+valuePadding}left=sparkValues.openValueWidth=mathMin(openValueWidth,availableWidth);right=sparkValues.closeValueWidth=mathMin(closeValueWidth,availableWidth-left);return{left:left,right:right}}function _parseCanvasCosmetics(){var canvasBorderThickness,showCanvasBorder,shadow,iapi=this,canvasConfig={},chartAttrs=iapi.getFromEnv("dataSource").chart,colorM=iapi.getFromEnv("color-manager");canvasConfig.canvasBorderRadius=0;canvasBorderThickness=canvasConfig.canvasBorderThickness=0;showCanvasBorder=canvasConfig.showCanvasBorder=0;canvasConfig.canvasBorderWidth=!showCanvasBorder?0:canvasBorderThickness;canvasConfig.canvasBorderColor=convertColor(pluck(chartAttrs.canvasbordercolor,colorM.getColor("canvasBorderColor")));canvasConfig.canBGColor={FCcolor:{color:"ffffff",alpha:0,angle:0,ratio:UNDEF}};shadow=canvasConfig.shadow=0;canvasConfig.shadowOnCanvasFill=shadow&&shadow.enabled;canvasConfig.origCanvasTopPad=pluckNumber(chartAttrs.canvastoppadding,0);canvasConfig.origCanvasBottomPad=pluckNumber(chartAttrs.canvasbottompadding,0);canvasConfig.origCanvasLeftPad=pluckNumber(chartAttrs.canvasleftpadding,0);canvasConfig.origCanvasRightPad=pluckNumber(chartAttrs.canvasrightpadding,0);canvasConfig.canvasPadding=0;return canvasConfig}var SparkWinLoss=function(_SparkChartBase){_inheritsLoose(SparkWinLoss,_SparkChartBase);SparkWinLoss.getName=function getName(){return"SparkWinLoss"};function SparkWinLoss(){var _this;_this=_SparkChartBase.call(this)||this;_this.canvasBorderThickness=0;_this._placeOpenCloseValues=_placeOpenCloseValues;_this._parseCanvasCosmetics=_parseCanvasCosmetics;return _this}var _proto=SparkWinLoss.prototype;_proto.parseChartAttr=function parseChartAttr(dataObj){_SparkChartBase.prototype.parseChartAttr.call(this,dataObj);this.config.drawTrendRegion=0};_proto.getName=function getName(){return"SparkWinLoss"};_proto.__setDefaultConfig=function __setDefaultConfig(){_SparkChartBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName=FRIENDLY_NAME;config.singleseries=true;config.defaultDatasetType=DS_TYPE;config.enablemousetracking=true;config.yRangeMin=-1;config.yRangeMax=1};_proto.getDSdef=function getDSdef(){return SparkWinLossDataset};return SparkWinLoss}(SparkChartBase);export default SparkWinLoss;export{_placeOpenCloseValues,_parseCanvasCosmetics};