import _assertThisInitialized from"@babel/runtime/helpers/assertThisInitialized";import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import Base from"./input-base";var ZoomIn=function(_Base){_inheritsLoose(ZoomIn,_Base);function ZoomIn(){var _this;_this=_Base.call(this)||this;var input=_assertThisInitialized(_this);input._toggle=function(){input.isEnabled()&&input.zoom()};return _this}var _proto=ZoomIn.prototype;_proto.getName=function getName(){return"zoomInButton"};_proto.configure=function configure(){_Base.prototype.configure.call(this);var input=this,config=input.config;config.stepZoom=config.stepZoom||5.33;!config.skipGraphics&&input.setLinkedItem("button",input.createButton({icon:"zoomInIcon",handlers:{click:input._toggle},tooltext:input.config.tooltext,state:"activated"}));input.enable()};_proto.zoom=function zoom(){var input=this,visibleRange,rangePadding,axis,eventArgs={},config=input.config,hookFn=config.hookFn,zoomed=false,startX,endX,startY,endY,level,axisZoomed,zoomLimit=Math.pow(10,config.zoomDecimalLimit)||1;input.getFromEnv("animationManager").setAnimationState("zoom");input.getFromEnv("axesObArr").forEach(function(axisOb){axis=axisOb.axis;visibleRange=axis.getVisibleConfig();rangePadding=Math.round((visibleRange.maxValue-visibleRange.minValue)/config.stepZoom*zoomLimit)/zoomLimit;if(rangePadding>Number.EPSILON){axisOb.stack.push(visibleRange);if(axisOb.isY){startY=visibleRange.minValue+rangePadding;endY=visibleRange.maxValue-rangePadding}else{startX=visibleRange.minValue+rangePadding;endX=visibleRange.maxValue-rangePadding;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}level=axisOb.stack.length+1;hookFn&&hookFn(visibleRange.minValue,visibleRange.maxValue);axisZoomed=axis.setVisibleConfig(visibleRange.minValue+rangePadding,visibleRange.maxValue-rangePadding);zoomed=zoomed||axisZoomed}});if(zoomed){input._raiseZoomEvents("zoomin","zoomedin",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY}))}};return ZoomIn}(Base);export default ZoomIn;