import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import AnnotationShape from"./annotation-shape";import{pluckNumber,clampNumber}from"@fusioncharts/core/src/lib";var DEFAULT_POLYGON_SIDES=5,DEFAULT_ANGLE_START=0,ELEMENT_TYPE_POLYPATH="polypath";var PolygonAnnotation=function(_AnnotationShape){_inheritsLoose(PolygonAnnotation,_AnnotationShape);function PolygonAnnotation(){return _AnnotationShape.apply(this,arguments)||this}var _proto=PolygonAnnotation.prototype;_proto.getName=function getName(){return"polygon"};_proto.configureAttributes=function configureAttributes(rawConfig){if(rawConfig===void 0){rawConfig={}}_AnnotationShape.prototype.configureAttributes.call(this,rawConfig);var polygon=this,shapeConfig=polygon.rawConfig;polygon.config.sides=pluckNumber(clampNumber(shapeConfig.sides,3),DEFAULT_POLYGON_SIDES);polygon.config.startAngle=pluckNumber(parseFloat(shapeConfig.startAngle),DEFAULT_ANGLE_START);polygon.config.xRadius=pluckNumber(parseFloat(shapeConfig.radius),0);polygon.config.elementType=ELEMENT_TYPE_POLYPATH};_proto.updateAttr=function updateAttr(){var polygon=this,config=polygon.config,attr=config.calculatedAttrs;polygon._setConfig("attr",{polypath:[config.sides,pluckNumber(attr.x,polygon.getScaledVal(config.x,true)),pluckNumber(attr.y,polygon.getScaledVal(config.y,false)),polygon.getScaledVal(config.xRadius),config.startAngle,0]})};_proto._getAnnotationAttrs=function _getAnnotationAttrs(){var polygon=this,config=polygon.config,attr=polygon._getConfig("attr")||{};attr.fill=config.color;attr.stroke=config.borderColor;attr["stroke-width"]=config.borderThickness;attr["stroke-dasharray"]=config.dashArrayStr;attr.polypath=attr.polypath||[config.sides,polygon.getScaledVal(config.x,true),polygon.getScaledVal(config.y,false),polygon.getScaledVal(config.xRadius),config.startAngle,0];return attr};return PolygonAnnotation}(AnnotationShape);export default PolygonAnnotation;