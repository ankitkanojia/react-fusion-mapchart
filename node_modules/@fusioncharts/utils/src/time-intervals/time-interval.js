var t0=new Date,t1=new Date,ie8Satisfier=0;var isNil=function isNil(d){return typeof d==="undefined"||d===null};var TimeInterval=function(){function TimeInterval(name,floori,offseti,count,field){this._name=name;this._floori=floori;this._offseti=offseti;this._count=count;this._field=field}var _proto=TimeInterval.prototype;_proto.name=function name(){return this._name};_proto.floor=function floor(date){var newDate=new Date(Number(date));this._floori(newDate);return newDate};_proto.ceil=function ceil(date){var datei=new Date(date-1);this._floori(datei);this._offseti(datei,1);this._floori(datei);return datei};_proto.round=function round(date){var d0=this.floor(date),d1=this.ceil(date);return date-d0<d1-date?d0:d1};_proto.offset=function offset(date,step){var datei=new Date(Number(date));this._offseti(datei,isNil(step)?1:Math.floor(step));return datei};_proto.range=function range(start,stop,step){var range=[],starti=this.ceil(start),stepi=isNil(step)?1:Math.floor(step);var previous;if(!(starti<stop)||!(stepi>0))return range;do{previous=new Date(Number(starti));range.push(previous);this._offseti(starti,stepi);this._floori(starti)}while(previous<starti&&starti<stop);return range};_proto.filter=function filter(test){var _this=this;return new TimeInterval(this.name(),function(date){if(!Number.isNaN(Number(date))){while(_this._floori(date),!test(date)){date.setTime(date-1)}}},function(date,step){var stepi=step;if(!Number.isNaN(Number(date))){if(stepi<0){while(++stepi<=0){ie8Satisfier++;do{_this._offseti(date,-1)}while(!test(date))}}else{while(--stepi>=0){do{_this._offseti(date,1)}while(!test(date))}}}})};_proto.count=function count(start,end){var count=0;if(this._count){t0.setTime(Number(start));t1.setTime(Number(end));this._floori(t0);this._floori(t1);count=Math.floor(this._count(t0,t1))}return count};_proto.every=function every(step){var _this2=this;var stepi=Math.floor(step);var everyInterval=null;if(!this._count||!Number.isFinite(stepi)||!(stepi>0)){everyInterval=null}else if(!(stepi>1)){everyInterval=this}else{everyInterval=this.filter(this._field?function(d){return _this2._field(d)%stepi===0}:function(d){return _this2.count(0,d)%stepi===0})}return everyInterval};return TimeInterval}();export default TimeInterval;