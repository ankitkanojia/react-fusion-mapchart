import _inheritsLoose from"@babel/runtime/helpers/inheritsLoose";import Axis from"./axis";import{pluck,pluckNumber,parseUnsafeString,convertColor}from"../lib";import{setDataLimit,getTrendLineLimits}from"./common-api";import domainUpdater from"./domain-updater";var GaugePolarNumeric=function(_Axis){_inheritsLoose(GaugePolarNumeric,_Axis);function GaugePolarNumeric(){return _Axis.apply(this,arguments)||this}var _proto=GaugePolarNumeric.prototype;_proto.__setDefaultConfig=function __setDefaultConfig(){_Axis.prototype.__setDefaultConfig.call(this);var config=this.config;config.majorTMNumber=-1;config.adjustDiv=1;config.majorTMHeight=6;config.showTickMarks=1;config.majorTMThickness=1;config.minorTMNumber=4;config.minorTMThickness=1;config.tickMarkDistance=3;config.placeTicksInside=0;config.placeValuesInside=0;config.forceZeroTick=false};_proto.configureAttributes=function configureAttributes(rawAttr){var axis=this,axisConfig=axis.config,colorM=axis.getFromEnv("color-manager"),axisAttr;_Axis.prototype.configureAttributes.call(this,rawAttr);axisAttr=axisConfig.rawAttr;axisConfig.majorTMColor=convertColor(pluck(axisAttr.majorTMColor,colorM.getColor("tickColor")),pluckNumber(axisAttr.majorTMAlpha,100));axisConfig.tickValueStep=pluckNumber(axisAttr.tickValueStep,1);axisConfig.tickValueStep=Math.round(axisConfig.tickValueStep);if(axisConfig.tickValueStep<=0){axisConfig.tickValueStep=1}axisConfig.connectTickMarks=axisConfig.showTickMarks?pluckNumber(axisAttr.connectTickMarks,1):0;axisConfig.showTickValues=pluckNumber(axisAttr.showTickValues,axisConfig.showTickMarks);axisConfig.reverseScale=pluckNumber(axisAttr.reverseScale,0)===1;axisConfig.minorTMColor=convertColor(pluck(axisAttr.minorTMColor,axisConfig.majorTMColor),pluckNumber(axisAttr.minorTMAlpha,axisConfig.majorTMAlpha,100));axisConfig.minorTMHeight=axisConfig.showTickMarks?pluckNumber(axisAttr.minorTMHeight,Math.round(axisConfig.majorTMHeight/2)):0;axisConfig.tickValueDistance=pluckNumber(axisAttr.tickValueDistance,0)+2;axisConfig.upperLimitDisplay=parseUnsafeString(axisAttr.upperLimitDisplay)||"";axisConfig.lowerLimitDisplay=parseUnsafeString(axisAttr.lowerLimitDisplay)||"";axisConfig.drawTickMarkConnector=axisAttr.drawTickMarkConnector||0;axisConfig.numDivLines=axisConfig.majorTMNumber>=0?axisConfig.majorTMNumber:axisConfig.numDivLines+1};_proto._createContainer=function _createContainer(){var axis=this,axisConfig=axis.config,chart=axis.getLinkedParent(),childContainers=chart.getChildContainer(),axisBottom=childContainers.axisBottomGroup,axisTop=childContainers.axisTopGroup,axisLineGroup,axisTrendGroupTop,axisLabelGroupTop,axisTrendGroupBottom;axisTrendGroupBottom=this.createContainer("axisTrendGroupBottom",{name:"dataset-Trend-group-bottom"},axisBottom);axisLineGroup=axis.createContainer("axisLineGroup",{name:"axis-Line-group"},axisTop);axisTrendGroupTop=axis.createContainer("axisTrendGroupTop",{name:"dataset-Trend-group-top"},axisTop);axisLabelGroupTop=axis.createContainer("axisLabelGroupTop",{name:"dataset-Label-group"},axisTop);axisConfig.axisLabelContainerTop=axisConfig.axisContainer=axis.createGroup("axisLabelContainerTop",{name:"dataset-top-label"},axisLabelGroupTop);axisConfig.axisAxisLineContainer=axis.createGroup("axisAxisLineContainer",{name:"axis-line-tick"},axisLineGroup);axisConfig.axisTrendContainerTop=axis.createGroup("axisTrendContainerTop",{name:"dataset-axis-trend-top"},axisTrendGroupTop);axisConfig.axisTrendContainerBottom=axis.createGroup("axisTrendContainerBottom",{name:"dataset-axis-trend-bottom"},axisTrendGroupBottom);axisConfig.axisTrendLabelContainer=axis.createGroup("axisTrendLabelContainer",{name:"dataset-axis-trend-label"},axisTrendGroupTop)};_proto.allocatePosition=function allocatePosition(){var axis=this,axisConfig=axis.config;axisConfig.drawLabels&&axis._parseLabel()};_proto.setVisibleConfig=function setVisibleConfig(minValue,maxValue){var axis=this,axisConfig=axis.config,scale=axis.getScale(),domain;if(minValue>=maxValue||minValue<axisConfig.axisRange.min||maxValue>axisConfig.axisRange.max){return false}domain=scale.setDomain([minValue,maxValue]).getDomain();axisConfig.visibleMin=domain[0];axisConfig.visibleMax=domain[1];axis.fireEvent("visiblerangeset",{minValue:minValue,maxValue:maxValue});axis.asyncDraw();return true};_proto._adjustNumberFormatter=function _adjustNumberFormatter(){if(this)return 0};_proto.calculateTicksOnLabelMode=function calculateTicksOnLabelMode(){if(this)return 0};_proto.generateMinorTicks=function generateMinorTicks(){var axis=this,axisConfig=this.config;return axis.getScale().minorTicks(axisConfig.minorTMNumber,axisConfig.ticks)};_proto._setAxisRange=function _setAxisRange(data){var min=data.min,max=data.max,axisConfig=this.config,axisRange=axisConfig.axisRange;if(min>max){return}domainUpdater(min,max,this.getScale(),axisConfig);axisConfig.minorTicks=this.generateMinorTicks();this.setVisibleConfig(axisRange.min,axisRange.max)};return GaugePolarNumeric}(Axis);GaugePolarNumeric.prototype.setDataLimit=setDataLimit;GaugePolarNumeric.prototype.getTrendLineLimits=getTrendLineLimits;export default GaugePolarNumeric;